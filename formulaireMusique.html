<?php

$titre = isset($titre) ? htmlspecialchars($titre) : "";
$groupe = isset($groupe) ? htmlspecialchars($groupe) : "";
$album = isset($album) ? htmlspecialchars($album) : "";
$idM = isset($idM) ? htmlspecialchars($idM) : "";

$action = isset($_GET["action"]) ? $_GET["action"] : "";

if (!isset($erreur)) {
    $erreur = ["titre" => "", "groupe" => "", "album" => ""];
}

if ($action == "saisir") {
    $corps = <<<EOT
    <form method="post" action="index.php?action=saisir" name="form_user">
        <div class="form-group">
            <label>Titre</label>
            <input type="text" name="titre" value="{$titre}" class="form-control">
            <span class="w3-text-red">{$erreur["titre"]}</span>
        </div>
        
        <div class="form-group">
            <label>Groupe</label>
            <input type="text" name="groupe" value="{$groupe}" class="form-control">
            <span class="w3-text-red">{$erreur["groupe"]}</span>
        </div>
        
        <div class="form-group">
            <label>Album</label>
            <input type="text" name="album" value="{$album}" class="form-control">
            <span class="w3-text-red">{$erreur["album"]}</span>
        </div>
        
        <div class="form-group">
            <input type="submit" name="user_valider" value="Valider" class="btn btn-primary">
            <a href="index.php?action=afficher" class="btn btn-secondary">Annuler</a>
        </div>
    </form>
EOT;
}

if ($action == "modifier") {
    $corps = <<<EOT
    <form method="post" action="index.php?action=modifier&idM={$idM}" name="form_user">
        <div class="form-group">
            <label>Nouveau Titre</label>
            <input type="text" name="titre" value="{$titre}" class="form-control">
            <span class="w3-text-red">{$erreur["titre"]}</span>
        </div>
     
        <div class="form-group">
            <label>Nouveau Groupe</label>
            <input type="text" name="groupe" value="{$groupe}" class="form-control">
            <span class="w3-text-red">{$erreur["groupe"]}</span>
        </div>
        
        <div class="form-group">
            <label>Nouvel Album</label>
            <input type="text" name="album" value="{$album}" class="form-control">
            <span class="w3-text-red">{$erreur["album"]}</span>
        </div>
        
        <div class="form-group">
            <input type="submit" name="confirmation" value="Oui" class="btn btn-primary">
            <input type="submit" name="confirmation" value="Non" class="btn btn-secondary">
        </div>
    </form>
EOT;
}
?>